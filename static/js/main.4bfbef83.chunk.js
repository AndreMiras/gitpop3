(this.webpackJsonpgitpop3=this.webpackJsonpgitpop3||[]).push([[0],{100:function(e){e.exports=JSON.parse('{"a":"2020.12.14"}')},108:function(e,t,n){},109:function(e,t,n){},129:function(e,t,n){"use strict";n.r(t);var c=n(6),a=n(0),r=n.n(a),o=n(25),s=n.n(o),i=(n(108),n(109),n(110),n(55)),j=n(101),l=n(102),b=n(28),u=n(138),h=n(141),d=n(134),O=n(92),x=n(135),m=n(27),f=/https?:\/\/github.com\/([\w-_]+)\/([\w-_]+)/,g=function(e){return e&&e.match(f)||null},p=function(e){var t=e.loading;return Object(c.jsx)(m.a,{icon:t?"spinner":"search",spin:t})},v=function(e){var t=e.onSubmit,n=e.loading,r=Object(a.useState)(),o=Object(b.a)(r,2),s=o[0],i=o[1],j=function(e){e.preventDefault(),null===g(s)?e.stopPropagation():t(s)},l=s&&null===g(s);return Object(c.jsx)(h.a,{onSubmit:j,children:Object(c.jsxs)(d.a,{className:"mb-3",children:[Object(c.jsx)(O.a,{placeholder:"https://github.com/django/django",onChange:function(e){return i(e.target.value)},isInvalid:l}),Object(c.jsx)(d.a.Append,{children:Object(c.jsx)(x.a,{type:"submit",variant:"outline-secondary",onClick:j,children:Object(c.jsx)(p,{loading:n})})})]})})},C=n(139),k=n(136),w=n(137),y=n(93),P=n.n(y),S=function(e){var t=Math.floor((Date.now()-e)/1e3),n=t/31536e3;return n>1?"".concat(Math.floor(n)," years ago"):(n=t/2592e3)>1?"".concat(Math.floor(n)," months ago"):(n=t/86400)>1?"".concat(Math.floor(n)," days ago"):(n=t/3600)>1?"".concat(Math.floor(n)," hours ago"):(n=t/60)>1?"".concat(Math.floor(n)," minutes ago"):"".concat(Math.floor(t)," seconds ago")},M=function(e){var t=e.nameWithOwner;return Object(c.jsx)("a",{href:"https://github.com/".concat(t),children:t})},N=function(e){var t=e.info;return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)(M,{nameWithOwner:t.nameWithOwner})}),Object(c.jsx)("td",{children:t.stargazerCount}),Object(c.jsx)("td",{children:t.forkCount}),Object(c.jsx)("td",{children:t.object.history.totalCount}),Object(c.jsx)("td",{children:S(Date.parse(t.object.committedDate))})]})},A=function(e,t,n){return e.slice((t-1)*n,t*n)},D=function(){return Object(c.jsx)(C.a,{transition:!1,overlay:Object(c.jsx)(k.a,{children:"Last commit on master."}),children:Object(c.jsxs)("th",{children:[Object(c.jsx)(m.a,{icon:"calendar-alt"})," ","Modified"]})})},E=function(e){var t=e.forks,n=e.activePage,a=e.itemsCountPerPage,r=e.onPageChange;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(w.a,{striped:!0,bordered:!0,hover:!0,children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsxs)("th",{children:[Object(c.jsx)(m.a,{icon:["fab","github-alt"]})," ","Repo"]}),Object(c.jsxs)("th",{children:[Object(c.jsx)(m.a,{icon:"star"})," ","Stars"]}),Object(c.jsxs)("th",{children:[Object(c.jsx)(m.a,{icon:"code-branch"})," ","Forks"]}),Object(c.jsxs)("th",{children:[Object(c.jsx)(m.a,{icon:"dot-circle"})," ","Commits"]}),Object(c.jsx)(D,{})]})}),Object(c.jsx)("tbody",{children:A(t,n,a).map((function(e){return Object(c.jsx)(N,{info:e},e.nameWithOwner)}))})]}),Object(c.jsx)(P.a,{itemClass:"page-item",linkClass:"page-link",activePage:n,itemsCountPerPage:a,totalItemsCount:t.length,pageRangeDisplayed:5,onChange:r})]})},T=n(140),B=function(e){var t=e.detail,n=e.onClose,r=Object(a.useState)(!0),o=Object(b.a)(r,2),s=o[0],i=o[1];return Object(c.jsxs)(T.a,{show:s,onHide:function(){i(!1),n()},animation:!1,children:[Object(c.jsx)(T.a.Header,{closeButton:!0,className:"bg-warning",children:Object(c.jsx)(T.a.Title,{children:"Error"})}),Object(c.jsx)(T.a.Body,{children:t})]})};B.defaultProps={onClose:null};var Z=B,W=n(94),q=n(77),z=n(95),H=n.n(z),I=n(60),J=n(96);function R(){var e=Object(W.a)(['\n  query Forks($owner: String! $name: String!) {\n    repository(owner: $owner, name: $name) {\n      forks(first: 100, orderBy: {field: STARGAZERS, direction: DESC}) {\n        nodes {\n          nameWithOwner\n          stargazerCount\n          forkCount\n          object(expression: "master") {\n            ... on Commit {\n              committedDate\n              history {\n                totalCount\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n']);return R=function(){return e},e}var _=Object(I.createHttpLink)({uri:"https://api.github.com/graphql"}),G=atob("ZWJiYjZmNmEwYjgzNTMzMjE0ZjEwZDdkZjVmNjQ0MTdkZjJhNGMyNw==");H()(G,"REACT_APP_GITHUB_PAT environment variable must be set");var L=Object(J.a)((function(e,t){var n=t.headers;return{headers:Object(q.a)(Object(q.a)({},n),{},{authorization:"Bearer ".concat(G)})}})),$=new I.ApolloClient({link:L.concat(_),cache:new I.InMemoryCache}),F=Object(I.gql)(R()),Y=function(e,t,n){var c=function(e){return g(e)&&g(e).slice(1,3)}(e),a=Object(b.a)(c,2),r=a[0],o=a[1];$.query({query:F,variables:{owner:r,name:o}}).then((function(e){return t(e)})).catch((function(e){return n(e)}))},Q=function(){var e=Object(a.useState)(),t=Object(b.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(null),s=Object(b.a)(o,2),i=s[0],j=s[1],l=Object(a.useState)(1),h=Object(b.a)(l,2),d=h[0],O=h[1],x=Object(a.useState)(!1),m=Object(b.a)(x,2),f=m[0],g=m[1],p=function(e){r(e.data.repository.forks.nodes),j(null),g(!1)},C=function(e){j(e),g(!1)},k=i?Object(c.jsx)(Z,{detail:i.message}):null,w=n?Object(c.jsx)(E,{forks:n,activePage:d,itemsCountPerPage:10,onPageChange:O}):null;return Object(c.jsxs)(u.a,{children:[k,Object(c.jsx)(v,{onSubmit:function(e){g(!0),Y(e,p,C)},loading:f}),w]})},U=n(100),V=function(){return Object(c.jsx)("footer",{className:"footer d-none d-md-block",children:Object(c.jsx)(u.a,{className:"text-center",children:Object(c.jsxs)("span",{children:["Copyright \xa9 Andre Miras 2020 - gitpop3 v",U.a]})})})},K=n(143),X=n(142),ee=function(){return Object(c.jsx)(K.a,{bg:"dark",variant:"dark",expand:"sm",className:"mb-4",children:Object(c.jsxs)(u.a,{children:[Object(c.jsxs)(K.a.Brand,{href:"/gitpop3",children:[Object(c.jsx)(m.a,{icon:"code-branch"})," ","GitPop3"]}),Object(c.jsx)(K.a.Toggle,{}),Object(c.jsx)(K.a.Collapse,{children:Object(c.jsxs)(X.a,{className:"mr-auto",children:[Object(c.jsxs)(X.a.Link,{href:"/gitpop3",children:[Object(c.jsx)(m.a,{icon:"home"})," ","Home"]}),Object(c.jsxs)(X.a.Link,{href:"https://github.com/AndreMiras/gitpop3",children:[Object(c.jsx)(m.a,{icon:["fab","github-alt"]})," ","About"]})]})})]})})};i.b.add(j.a,l.a);var te=function(){return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(ee,{}),Object(c.jsx)(Q,{}),Object(c.jsx)(V,{})]})};s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(te,{})}),document.getElementById("root"))}},[[129,1,2]]]);
//# sourceMappingURL=main.4bfbef83.chunk.js.map