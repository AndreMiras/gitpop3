(this.webpackJsonpgitpop3=this.webpackJsonpgitpop3||[]).push([[0],{102:function(e,t,n){},103:function(e,t,n){},121:function(e,t,n){"use strict";n.r(t);var a=n(4),c=n(0),r=n.n(c),o=n(35),s=n.n(o),i=(n(102),n(103),n(104),n(48)),j=n(95),l=n(96),b=n(27),u=n(127),h=n(129),d=n(124),O=n(85),x=n(125),f=n(25),g=/https?:\/\/github.com\/(\w+)\/(\w+)/,m=function(e){return e&&e.match(g)||null},p=function(e){var t=e.loading;return Object(a.jsx)(f.a,{icon:t?"spinner":"search",spin:t})},v=function(e){var t=e.onSubmit,n=e.loading,r=Object(c.useState)(),o=Object(b.a)(r,2),s=o[0],i=o[1],j=function(e){e.preventDefault(),null===m(s)?e.stopPropagation():t(s)},l=s&&null===m(s);return Object(a.jsx)(h.a,{onSubmit:j,children:Object(a.jsxs)(d.a,{className:"mb-3",children:[Object(a.jsx)(O.a,{placeholder:"https://github.com/django/django",onChange:function(e){return i(e.target.value)},isInvalid:l}),Object(a.jsx)(d.a.Append,{children:Object(a.jsx)(x.a,{type:"submit",variant:"outline-secondary",onClick:j,children:Object(a.jsx)(p,{loading:n})})})]})})},C=n(126),k=n(86),w=n.n(k),y=function(e){var t=Math.floor((Date.now()-e)/1e3),n=t/31536e3;return n>1?"".concat(Math.floor(n)," years ago"):(n=t/2592e3)>1?"".concat(Math.floor(n)," months ago"):(n=t/86400)>1?"".concat(Math.floor(n)," days ago"):(n=t/3600)>1?"".concat(Math.floor(n)," hours ago"):(n=t/60)>1?"".concat(Math.floor(n)," minutes ago"):"".concat(Math.floor(t)," seconds ago")},P=function(e){var t=e.nameWithOwner;return Object(a.jsx)("a",{href:"https://github.com/".concat(t),children:t})},S=function(e){var t=e.info;return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)(P,{nameWithOwner:t.nameWithOwner})}),Object(a.jsx)("td",{children:t.stargazerCount}),Object(a.jsx)("td",{children:t.forkCount}),Object(a.jsx)("td",{children:t.object.history.totalCount}),Object(a.jsx)("td",{children:y(Date.parse(t.pushedAt))})]})},M=function(e,t,n){return e.slice((t-1)*n,t*n)},A=function(e){var t=e.forks,n=e.activePage,c=e.itemsCountPerPage,r=e.onPageChange;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(C.a,{striped:!0,bordered:!0,hover:!0,children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsxs)("th",{children:[Object(a.jsx)(f.a,{icon:["fab","github-alt"]})," ","Repo"]}),Object(a.jsxs)("th",{children:[Object(a.jsx)(f.a,{icon:"star"})," ","Stars"]}),Object(a.jsxs)("th",{children:[Object(a.jsx)(f.a,{icon:"code-branch"})," ","Forks"]}),Object(a.jsxs)("th",{children:[Object(a.jsx)(f.a,{icon:"dot-circle"})," ","Commits"]}),Object(a.jsxs)("th",{children:[Object(a.jsx)(f.a,{icon:"calendar-alt"})," ","Modified"]})]})}),Object(a.jsx)("tbody",{children:M(t,n,c).map((function(e){return Object(a.jsx)(S,{info:e},e.nameWithOwner)}))})]}),Object(a.jsx)(w.a,{itemClass:"page-item",linkClass:"page-link",activePage:n,itemsCountPerPage:c,totalItemsCount:t.length,pageRangeDisplayed:5,onChange:r})]})},N=n(128),E=function(e){var t=e.detail,n=e.onClose,r=Object(c.useState)(!0),o=Object(b.a)(r,2),s=o[0],i=o[1];return Object(a.jsxs)(N.a,{show:s,onHide:function(){i(!1),n()},animation:!1,children:[Object(a.jsx)(N.a.Header,{closeButton:!0,className:"bg-warning",children:Object(a.jsx)(N.a.Title,{children:"Error"})}),Object(a.jsx)(N.a.Body,{children:t})]})};E.defaultProps={onClose:function(){return null}};var T=E,B=n(88),Z=n(70),D=n(89),W=n.n(D),q=n(51),z=n(90);function H(){var e=Object(B.a)(['\n  query Forks($owner: String! $name: String!) {\n    repository(owner: $owner, name: $name) {\n      forks(first: 100, orderBy: {field: STARGAZERS, direction: DESC}) {\n        nodes {\n          nameWithOwner\n          stargazerCount\n          forkCount\n          pushedAt\n          object(expression: "master") {\n            ... on Commit {\n              history {\n                totalCount\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n']);return H=function(){return e},e}var I=Object(q.createHttpLink)({uri:"https://api.github.com/graphql"}),J=atob("ZWJiYjZmNmEwYjgzNTMzMjE0ZjEwZDdkZjVmNjQ0MTdkZjJhNGMyNw==");W()(J,"REACT_APP_GITHUB_PAT environment variable must be set");var R=Object(z.a)((function(e,t){var n=t.headers;return{headers:Object(Z.a)(Object(Z.a)({},n),{},{authorization:"Bearer ".concat(J)})}})),G=new q.ApolloClient({link:R.concat(I),cache:new q.InMemoryCache}),$=Object(q.gql)(H()),F=function(e,t,n){var a=function(e){return m(e)&&m(e).slice(1,3)}(e),c=Object(b.a)(a,2),r=c[0],o=c[1];G.query({query:$,variables:{owner:r,name:o}}).then((function(e){return t(e)})).catch((function(e){return n(e)}))},L=function(){var e=Object(c.useState)(),t=Object(b.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)(null),s=Object(b.a)(o,2),i=s[0],j=s[1],l=Object(c.useState)(1),h=Object(b.a)(l,2),d=h[0],O=h[1],x=Object(c.useState)(!1),f=Object(b.a)(x,2),g=f[0],m=f[1],p=function(e){r(e.data.repository.forks.nodes),j(null),m(!1)},C=function(e){j(e),m(!1)},k=i?Object(a.jsx)(T,{detail:i.message}):null,w=n?Object(a.jsx)(A,{forks:n,activePage:d,itemsCountPerPage:10,onPageChange:O}):null;return Object(a.jsxs)(u.a,{children:[k,Object(a.jsx)(v,{onSubmit:function(e){m(!0),F(e,p,C)},loading:g}),w]})},_=n(94),Y=function(){return Object(a.jsx)("footer",{className:"footer d-none d-md-block",children:Object(a.jsx)(u.a,{className:"text-center",children:Object(a.jsxs)("span",{children:["Copyright \xa9 Andre Miras 2020 - gitpop3 v",_.a]})})})},Q=n(131),U=n(130),V=function(){return Object(a.jsx)(Q.a,{bg:"dark",variant:"dark",expand:"sm",className:"mb-4",children:Object(a.jsxs)(u.a,{children:[Object(a.jsxs)(Q.a.Brand,{href:"/gitpop3",children:[Object(a.jsx)(f.a,{icon:"code-branch"})," ","GitPop3"]}),Object(a.jsx)(Q.a.Toggle,{}),Object(a.jsx)(Q.a.Collapse,{children:Object(a.jsxs)(U.a,{className:"mr-auto",children:[Object(a.jsxs)(U.a.Link,{href:"/gitpop3",children:[Object(a.jsx)(f.a,{icon:"home"})," ","Home"]}),Object(a.jsxs)(U.a.Link,{href:"https://github.com/AndreMiras/gitpop3",children:[Object(a.jsx)(f.a,{icon:["fab","github-alt"]})," ","About"]})]})})]})})};i.b.add(j.a,l.a);var K=function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(V,{}),Object(a.jsx)(L,{}),Object(a.jsx)(Y,{})]})};s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(K,{})}),document.getElementById("root"))},94:function(e){e.exports=JSON.parse('{"a":"2020.12.10.dev0"}')}},[[121,1,2]]]);
//# sourceMappingURL=main.b8e63c74.chunk.js.map